<html>
<head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <title>Friend Finder Survey</title>
        </head>
<body>

    <div class='container'>
            <div class="jumbotron jumbotron-fluid">
                    <div class="container">
                        <h1 class="display-2 text-center">Friend Finder Survey</h1>
                    </div>
            </div>
            <div>
                <h3>About You</h3>
            </div>
            <div>
                    <h4>Name (Required):</h4>
            </div>
            <input type="text" id="name" class="form-control" required="">
            <div>
                    <h4>Photo (Required):</h4>
            </div>
            <input type="text" id="photo" class="form-control" required="">
        <h5>
                <strong>Question 1</strong>
        </h5>
        <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
        <form >
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q1">
                                          <option value=""></option> 
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>
        <h5>        
                <strong>Question 2</strong>
        </h5>
        <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q2">
                                          <option value=""></option> 
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>        
        <h5>        
                <strong>Question 3</strong>
        </h5>
        <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q3">
                                          <option value=""></option> 
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>   
        <h5>        
                <strong>Question 4</strong>
        </h5>
        <h4>You rarely do something just out of sheer curiosity.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q4">
                                          <option value=""></option> 
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>   
        <h5>        
                <strong>Question 5</strong>
        </h5>
        <h4>People can rarely upset you.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q5">
                                          <option value=""></option> 
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>   
        <h5>        
                <strong>Question 6</strong>
        </h5>
        <h4>It is often difficult for you to relate to other people’s feelings.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q6">
                                          <option value=""></option> 
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>   
        <h5>        
                <strong>Question 7</strong>
        </h5>
        <h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q7">
                                          <option value=""></option> 
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>   
        <h5>        
                <strong>Question 8</strong>
        </h5>
        <h4>You rarely get carried away by fantasies and ideas.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q8">
                                          <option value=""></option> 
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>   
        <h5>        
                <strong>Question 9</strong>
        </h5>
        <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q9">
                                          <option value=""></option>       
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>   
        <h5>        
                <strong>Question 10</strong>
        </h5>
        <h4>You feel more energetic after spending time with a group of people.</h4>
        <form>
                        <div class="form-group">
                                        <label for="exampleFormControlSelect1"></label>
                                        <select class="chosen-select" id="q10">
                                          <option value=""></option>      
                                          <option value="1">1 (Strongly Disagree)</option>
                                          <option value="2">2</option>
                                          <option value="3">3</option>
                                          <option value="4">4</option>
                                          <option value="5">5 (Strongly Agree)</option>
                                        </select>
                                      </div>
        </form>   
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit" data-toggle="modal" data-target=".bd-example-modal-sm"><i class="fa fa-check-circle" aria-hidden="true"></i>
                Submit</button>
        </div>
        <!-- Small modal -->
        <div id="modal1" class="modal">
            <div class="modal-content">
                      <h4>Closest Friend Match</h4>
                          <div class="divider"></div>
                          <h5 id="userMatch"></h5>
                    <img id="userMatchImage" class="materialboxed" width="650" src="">
            </div>
            <div class="modal-footer">
              <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
            </div>
          </div>     
        <footer class="footer">
                        <div class="container">
                          <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/patrickcorcoran10/friendFinder">GitHub Repo</a></p>
                        </div>
        </footer>

    <script type="text/javascript">

        
	
        
    
        // Capture the form inputs
        $("#submit").on("click", function(event) {
          event.preventDefault();
    
          // Form validation
          function validateForm() {
            var isValid = true;
            $(".form-control").each(function() {
              if ($(this).val() === "") {
                isValid = false;
              }
            });
    
            $(".chosen-select").each(function() {
    
              if ($(this).val() === "") {
                isValid = false;
              }
            });
            return isValid;
          }
    
          // If all required fields are filled
          if (validateForm()) {
            // Create an object for the user"s data
            var userData = {
              name: $("#name").val(),
              photo: $("#photo").val(),
              scores: [
                $("#q1").val(),
                $("#q2").val(),
                $("#q3").val(),
                $("#q4").val(),
                $("#q5").val(),
                $("#q6").val(),
                $("#q7").val(),
                $("#q8").val(),
                $("#q9").val(),
                $("#q10").val()
              ]
            };
            console.log(userData);
            $.post("/api/friends", userData);
            
    
            // Here's some code to print the correct name to the page. 
            function findFriend() {
              var currentURL = window.location.origin;

              $.ajax({ url: currentURL + "/api/"})
            }
            
          } else {
            alert("Individuals of such mystery can NOT be matched. Sorry.");
          }
        });
        
      </script>
</body>
</html>